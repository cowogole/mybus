(function(){"use strict";var t={1116:function(t,n,e){e(6992),e(8674),e(9601),e(7727);var r=e(144),o=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Logo",contain:"",src:e(6949),transition:"scale-transition",width:"140"}})],1),r("v-spacer")],1),r("v-main",[r("HelloWorld")],1)],1)},a=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{attrs:{fluid:""}},[e("v-card",{staticClass:"d-flex justify-center mb-0",attrs:{elevation:"0",tile:""}},[e("v-card",{staticClass:"pa-2 ma-2",attrs:{tile:"",elevation:"0"}},[e("v-text-field",{attrs:{id:"textField",label:"Search bus stops",solo:"","prepend-icon":"mdi-map-marker"},on:{input:t.debouncedHandler},model:{value:t.address,callback:function(n){t.address=n},expression:"address"}})],1)],1),t._l(t.stationsList,(function(n){return e("v-card",{key:n.gtfsId,staticClass:"d-flex justify-center mb-1",attrs:{elevation:"0",tile:""}},[e("v-card",{staticClass:"ml-4",attrs:{color:"#26c6da",dark:"",flat:"",width:"400"},on:{click:function(e){return e.stopPropagation(),t.popUpDia(n.gtfsId)}}},[e("v-row",[e("v-col",[e("v-card-title",[e("v-icon",{attrs:{large:"",left:""}},[t._v(" mdi-sign-caution ")]),e("span",{staticClass:"text-h6 font-weight-light"},[t._v(" "+t._s(n.name)+" ")])],1)],1)],1)],1)],1)})),e("v-overlay",{attrs:{value:t.overlay}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t.showStops?e("StopView",{attrs:{currentRecord:t.stopInfo,width:"600px"},model:{value:t.showStops,callback:function(n){t.showStops=n},expression:"showStops"}}):t._e()],2)},i=[],c=e(7906),l=e(6198),u=e(3208),d=(e(2222),e(589)),p=e(1296),f=e.n(p),v=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-dialog",{attrs:{persistent:"","background-color":"white","max-width":"600px"},model:{value:t.show,callback:function(n){t.show=n},expression:"show"}},t._l(t.currentRecord,(function(n){return e("v-card",{key:n.gtfsId,attrs:{"ma-4":""}},[e("v-card-title",{staticClass:"ma-2"},[e("v-icon",{attrs:{large:"",left:"",color:"orange darken-2"}},[t._v(" mdi-bus-stop-covered ")]),t._v(" "+t._s(n.name))],1),t._l(n.patterns,(function(n){return e("v-card",{key:n.code,staticClass:"ma-4",attrs:{color:"#26c6da",dark:"",flat:"","max-width":"600"}},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-card-title",[e("v-icon",{attrs:{large:"",left:""}},[t._v(" mdi-map-marker-right ")]),e("span",{staticClass:"text-h6 font-weight-light"},[t._v(" "+t._s(n.headsign)+" ")])],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-card-title",[e("v-icon",{attrs:{large:"",left:""}},[t._v(" mdi-bus ")]),e("span",{staticClass:"text-h6 font-weight-light"},[t._v(" "+t._s(n.route.mode)+" - "+t._s(n.route.shortName))])],1)],1)],1),e("v-card-title",[e("span",{staticClass:"text-h8 font-weight-light"},[t._v(" "+t._s(n.route.longName))])])],1)})),e("v-card-actions",[e("v-btn",{staticClass:"ma-5",attrs:{text:"",color:"teal accent-4"},on:{click:function(n){t.show=!1}}},[t._v(" Close ")])],1)],2)})),1)},h=[],m={props:{value:Boolean,currentRecord:Array},computed:{show:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},data:function(){return{}},methods:{}},g=m,w=e(1001),b=e(3453),Z=e.n(b),y=e(4345),x=e(3237),_=e(7118),C=e(2102),k=e(2737),V=e(6428),S=e(2877),O=(0,w.Z)(g,v,h,!1,null,null,null),I=O.exports;Z()(O,{VBtn:y.Z,VCard:x.Z,VCardActions:_.h7,VCardTitle:_.EB,VCol:C.Z,VDialog:k.Z,VIcon:V.Z,VRow:S.Z});var P,j=e(9669),E=e.n(j);function T(t){return $.apply(this,arguments)}function $(){return $=(0,l.Z)((0,c.Z)().mark((function t(n){var e;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E()({method:"POST",url:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql",data:{query:'\n            {\n              stop(id: "'.concat(n,'")\n              {\n                  gtfsId\n                  name\n                  lat\n                  lon\n                  patterns {\n                    code\n                    directionId\n                    headsign\n                    route {\n                      gtfsId\n                      shortName\n                      longName\n                      mode\n                    }\n                  }\n                }\n              }\n            }\n        ')}});case 3:return e=t.sent,t.abrupt("return",e.data);case 7:return t.prev=7,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),$.apply(this,arguments)}var q=(0,d.ZP)(P||(P=(0,u.Z)(["\n  query stops($name: String!) {\n    stops(name: $name) {\n      gtfsId\n      name\n      code\n      lat\n      lon\n    }\n  }\n"]))),H={name:"HelloWorld",components:{StopView:I},data:function(){return{stationsList:[],stopInfo:[],address:"",showStops:!1,overlay:!1}},methods:{getData:function(){var t=this;return(0,l.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$apollo.query({query:q,variables:{name:t.address}});case 2:e=n.sent,t.stationsList=[].concat(e.data.stops),console.log(t.stationsList);case 5:case"end":return n.stop()}}),n)})))()},popUpDia:function(t){var n=this;return(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.overlay=!0,T(t).then((function(t){n.stopInfo=[].concat(t.data.stop),console.log(n.stopInfo),n.showStops=!0})),n.overlay=!1,n.showStops=!0;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;this.debouncedHandler=f()((function(){console.log("New value:",t.address),""!==t.address?t.getData():t.stationsList=[]}),500)},beforeUnmount:function(){this.debouncedHandler.cancel()}},L=H,M=e(9846),A=e(1058),B=e(624),D=e(4661),N=(0,w.Z)(L,s,i,!1,null,"2a188d1c",null),R=N.exports;Z()(N,{VCard:x.Z,VCardTitle:_.EB,VCol:C.Z,VContainer:M.Z,VIcon:V.Z,VOverlay:A.Z,VProgressCircular:B.Z,VRow:S.Z,VTextField:D.Z});var U={name:"App",components:{HelloWorld:R},data:function(){return{}}},F=U,W=e(7524),z=e(3583),G=e(7047),J=e(7877),K=e(9762),Q=(0,w.Z)(F,o,a,!1,null,null,null),X=Q.exports;Z()(Q,{VApp:W.Z,VAppBar:z.Z,VImg:G.Z,VMain:J.Z,VSpacer:K.Z});var Y=e(858);r.Z.use(Y.Z);var tt=new Y.Z({}),nt=e(8787),et=e(2489),rt=new nt.ZP({uri:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql"}),ot=new et.ZP({defaultClient:rt});r.Z.use(et.ZP),r.Z.config.productionTip=!1,new r.Z({vuetify:tt,render:function(t){return t(X)},apolloProvider:ot}).$mount("#app")},6949:function(t,n,e){t.exports=e.p+"img/logo.a6e1e4be.png"}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,loaded:!1,exports:{}};return t[r](a,a.exports,e),a.loaded=!0,a.exports}e.m=t,function(){var t=[];e.O=function(n,r,o,a){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],a=t[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||s>=a)&&Object.keys(e.O).every((function(t){return e.O[t](r[c])}))?r.splice(c--,1):(i=!1,a<s&&(s=a));if(i){t.splice(u--,1);var l=o();void 0!==l&&(n=l)}}return n}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,o,a]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,r){var o,a,s=r[0],i=r[1],c=r[2],l=0;if(s.some((function(n){return 0!==t[n]}))){for(o in i)e.o(i,o)&&(e.m[o]=i[o]);if(c)var u=c(e)}for(n&&n(r);l<s.length;l++)a=s[l],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(u)},r=self["webpackChunkmybus"]=self["webpackChunkmybus"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(1116)}));r=e.O(r)})();
//# sourceMappingURL=app-legacy.6f6f787a.js.map