(function(){"use strict";var t={1116:function(t,e,n){var r=n(144),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Logo",contain:"",src:n(6949),transition:"scale-transition",width:"140"}})],1),r("v-spacer")],1),r("v-main",[r("HelloWorld")],1)],1)},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-card",{staticClass:"d-flex justify-center mb-0",attrs:{elevation:"0",tile:""}},[n("v-card",{staticClass:"pa-2 ma-2",attrs:{tile:"",elevation:"0"}},[n("v-text-field",{attrs:{id:"textField",label:"Search bus stops",solo:"","prepend-icon":"mdi-map-marker"},on:{input:t.debouncedHandler},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1),t._l(t.stationsList,(function(e){return n("v-card",{key:e.gtfsId,staticClass:"d-flex justify-center mb-1",attrs:{elevation:"0",tile:""}},[n("v-card",{staticClass:"ml-4",attrs:{color:"#26c6da",dark:"",flat:"",width:"400"},on:{click:function(n){return n.stopPropagation(),t.popUpDia(e.gtfsId)}}},[n("v-row",[n("v-col",[n("v-card-title",[n("v-icon",{attrs:{large:"",left:""}},[t._v(" mdi-sign-caution ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(" "+t._s(e.name)+" ")])],1)],1)],1)],1)],1)})),n("v-overlay",{attrs:{value:t.overlay}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t.showStops?n("StopView",{attrs:{currentRecord:t.stopInfo,width:"600px"},model:{value:t.showStops,callback:function(e){t.showStops=e},expression:"showStops"}}):t._e()],2)},i=[],l=n(589),c=n(1296),d=n.n(c),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","background-color":"white","max-width":"600px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},t._l(t.currentRecord,(function(e){return n("v-card",{key:e.gtfsId,attrs:{"ma-4":""}},[n("v-card-title",{staticClass:"ma-2"},[n("v-icon",{attrs:{large:"",left:"",color:"orange darken-2"}},[t._v(" mdi-bus-stop-covered ")]),t._v(" "+t._s(e.name))],1),t._l(e.patterns,(function(e){return n("v-card",{key:e.code,staticClass:"ma-4",attrs:{color:"#26c6da",dark:"",flat:"","max-width":"600"}},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-card-title",[n("v-icon",{attrs:{large:"",left:""}},[t._v(" mdi-map-marker-right ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(" "+t._s(e.headsign)+" ")])],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-card-title",[n("v-icon",{attrs:{large:"",left:""}},[t._v(" mdi-bus ")]),n("span",{staticClass:"text-h6 font-weight-light"},[t._v(" "+t._s(e.route.mode)+" - "+t._s(e.route.shortName))])],1)],1)],1),n("v-card-title",[n("span",{staticClass:"text-h8 font-weight-light"},[t._v(" "+t._s(e.route.longName))])])],1)})),n("v-card-actions",[n("v-btn",{staticClass:"ma-5",attrs:{text:"",color:"teal accent-4"},on:{click:function(e){t.show=!1}}},[t._v(" Close ")])],1)],2)})),1)},p=[],f={props:{value:Boolean,currentRecord:Array},computed:{show:{get(){return this.value},set(t){this.$emit("input",t)}}},data(){return{}},methods:{}},v=f,h=n(1001),m=n(3453),g=n.n(m),w=n(4345),b=n(3237),y=n(7118),x=n(2102),Z=n(2737),_=n(6428),C=n(2877),V=(0,h.Z)(v,u,p,!1,null,null,null),k=V.exports;g()(V,{VBtn:w.Z,VCard:b.Z,VCardActions:y.h7,VCardTitle:y.EB,VCol:x.Z,VDialog:Z.Z,VIcon:_.Z,VRow:C.Z});var S=n(9669),O=n.n(S);async function I(t){try{const e=await O()({method:"POST",url:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql",data:{query:`\n            {\n              stop(id: "${t}")\n              {\n                  gtfsId\n                  name\n                  lat\n                  lon\n                  patterns {\n                    code\n                    directionId\n                    headsign\n                    route {\n                      gtfsId\n                      shortName\n                      longName\n                      mode\n                    }\n                  }\n                }\n              }\n            }\n        `}});return e.data}catch(e){return console.error(e),null}}const P=l.ZP`
  query stops($name: String!) {
    stops(name: $name) {
      gtfsId
      name
      code
      lat
      lon
    }
  }
`;var j={name:"HelloWorld",components:{StopView:k},data(){return{stationsList:[],stopInfo:[],address:"",showStops:!1,overlay:!1}},methods:{async getData(){const t=await this.$apollo.query({query:P,variables:{name:this.address}});this.stationsList=[].concat(t.data.stops),console.log(this.stationsList)},async popUpDia(t){this.overlay=!0,I(t).then((t=>{this.stopInfo=[].concat(t.data.stop),console.log(this.stopInfo),this.showStops=!0})),this.overlay=!1,this.showStops=!0}},created(){this.debouncedHandler=d()((()=>{console.log("New value:",this.address),""!==this.address?this.getData():this.stationsList=[]}),500)},beforeUnmount(){this.debouncedHandler.cancel()}},E=j,T=n(9846),$=n(1058),q=n(624),H=n(4661),L=(0,h.Z)(E,s,i,!1,null,"2a188d1c",null),M=L.exports;g()(L,{VCard:b.Z,VCardTitle:y.EB,VCol:x.Z,VContainer:T.Z,VIcon:_.Z,VOverlay:$.Z,VProgressCircular:q.Z,VRow:C.Z,VTextField:H.Z});var A={name:"App",components:{HelloWorld:M},data:()=>({})},B=A,D=n(7524),N=n(3583),R=n(7047),U=n(7877),F=n(9762),W=(0,h.Z)(B,o,a,!1,null,null,null),z=W.exports;g()(W,{VApp:D.Z,VAppBar:N.Z,VImg:R.Z,VMain:U.Z,VSpacer:F.Z});var G=n(1910);r.Z.use(G.Z);var J=new G.Z({}),K=n(8787),Q=n(2489);const X=new K.ZP({uri:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql"}),Y=new Q.ZP({defaultClient:X});r.Z.use(Q.ZP),r.Z.config.productionTip=!1,new r.Z({vuetify:J,render:t=>t(z),apolloProvider:Y}).$mount("#app")},6949:function(t,e,n){t.exports=n.p+"img/logo.a6e1e4be.png"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var s=1/0;for(d=0;d<t.length;d++){r=t[d][0],o=t[d][1],a=t[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(i=!1,a<s&&(s=a));if(i){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,s=r[0],i=r[1],l=r[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var d=l(n)}for(e&&e(r);c<s.length;c++)a=s[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},r=self["webpackChunkmybus"]=self["webpackChunkmybus"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1116)}));r=n.O(r)})();
//# sourceMappingURL=app.d764deb2.js.map